{"version":3,"sources":["styles/Points.module.css","comps/Points.js"],"names":["module","exports","Points","useCookies","cookie","navigate","useNavigate","useState","url","setUrl","user","setUser","handleClick","fetch","method","body","JSON","stringify","_id","headers","res","json","status","alert","console","log","useEffect","addPoints","web3","window","eth","getAccounts","accounts","contract","Contract","ABI","methods","balanceOf","call","balance","id","points","parseInt","data","className","styles2","navContainer","rightNavItems","to","navItem","styles","topBox","firstName","lastName","line","nftPoints","otherPoints","container","topHeader","scoreHolderText","scoreHolders","map","player","names","index","name","point","container2","heading2","subHeading","listItem","note","formContainer","note2","urlField","type","placeholder","value","onChange","e","target","btn","onClick"],"mappings":"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","file":"static/js/5.f2576edb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Points_container__3WjYl\",\"scoreHolders\":\"Points_scoreHolders__3x5d5\",\"player\":\"Points_player__3KaWn\",\"names\":\"Points_names__1-fpr\",\"index\":\"Points_index__1rjUM\",\"name\":\"Points_name__3YjO4\",\"point\":\"Points_point__Gf_PM\",\"container2\":\"Points_container2__2dc27\",\"heading2\":\"Points_heading2__S0mDG\",\"subHeading\":\"Points_subHeading__3P-yu\",\"listItem\":\"Points_listItem__33zoR\",\"note\":\"Points_note__qGQhp\",\"formContainer\":\"Points_formContainer__3YTji\",\"note2\":\"Points_note2__3o38I\",\"urlField\":\"Points_urlField__2XNjk\",\"btn\":\"Points_btn__3CoYu\",\"topBox\":\"Points_topBox__zip-m\",\"line\":\"Points_line__2uHZz\",\"rightNavItems\":\"Points_rightNavItems__3Bm2k\"};","import Navbar from \"./Navbar\";\nimport styles from \"../styles/Points.module.css\";\nimport styles2 from \"../styles/Navbar.module.css\";\nimport ABI from \"../abi/abi.json\";\nimport { useEffect, useState, useContext } from \"react\";\n// import { useCookies } from 'react-cookie'\n// import { useNavigate } from 'react-router-dom'\n// import { AuthContext } from \"../contextApi/AuthContext\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useCookies } from \"react-cookie\";\n\nconst Points = () => {\n  const [cookie, setCookie] = useCookies();\n\n  const navigate = useNavigate();\n  const [url, setUrl] = useState(\"\");\n  const [user, setUser] = useState(cookie.user);\n\n  // const [hide, setHide] = useState(true)\n\n  const players = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n  // const [cookies, setCookies] = useCookies();\n\n  // const { isAuth } = useContext(AuthContext);\n  const handleClick = async () => {\n    if (user) {\n      try {\n        const res = await fetch(\"https://api.shatokens.com/addUserLinks\", {\n          method: \"POST\",\n          body: JSON.stringify({ url, user: cookie.user?._id }),\n          headers: { \"Content-Type\": \"application/json\" },\n        });\n        const data = await res.json();\n        if (res.status === 201) {\n          alert(\"Link added sent!\");\n          navigate(\"/\");\n        } else {\n          alert(\"We are facing some problems. Please try again later.\");\n        }\n      } catch (error) {\n        // console.log(\"hillo\")\n        console.log(error);\n      }\n    } else {\n      alert(\"Please Login First!\");\n    }\n  };\n\n  useEffect(() => {\n    addPoints();\n  }, []);\n\n  const addPoints = async () => {\n    const web3 = window.web3;\n    if (!web3.eth) {\n      alert(\"Please connect with matamask!\");\n      navigate(\"/\");\n    } else {\n      const accounts = await web3.eth.getAccounts();\n      const contract = new web3.eth.Contract(\n        ABI,\n        \"0xeDF9A071bc9a5BA5959b186f3c50a1Bb8C2b22e2\"\n      );\n\n      const balance = await contract.methods.balanceOf(accounts[0]).call();\n      const res = await fetch(\"https://api.shatokens.com/addNftPoints\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          id: cookie.user?._id,\n          points: parseInt(balance) * 10000,\n        }),\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n      const data = await res.json();\n      if (res.status === 201) {\n        setUser(data.user);\n        // navigate(\"/\");\n      } else {\n        alert(\"We are facing some problems. Points are not refreshed!\");\n      }\n    }\n  };\n  // const navigate = useNavigate()\n\n  // const checkUser = async() => {\n  //     try {\n  //         const res = await fetch('https://api.shatokens.com/checkuser', {\n  //             method: 'POST',\n  //             headers: {'Content-Type': 'application/json'},\n  //             body: JSON.stringify({token: cookies.jwt})\n  //         })\n  //         const data = await res.json()\n  //         if(data.status === \"bad auth\"){\n  //             console.log(\"bad auth user\")\n  //             alert(\"Dekho pehle login kaaro\")\n  //             setOpen(true)\n  //             setLogin(true)\n  //             console.log(open, login)\n  //             navigate('/test', { replace: true})\n  //         } else if(data.status === \"good auth\"){\n  //             console.log(\"Sab badiya\")\n  //             setHide(false)\n  //         }\n  //     } catch (error) {\n  //         console.log(\"error: \", error)\n  //     }\n  // }\n\n  // useEffect(() => {\n  //     checkUser()\n  // }, [])\n\n  return (\n    <>\n      <div className={styles2.navContainer}>\n        <div className={styles2.rightNavItems}>\n          <Link className=\"links\" to=\"/\">\n            <div className={styles2.navItem}>Home</div>\n          </Link>\n        </div>\n        {user ? (\n          <div className={styles.rightNavItems}>\n            <div className={styles.topBox}>\n              {user?.firstName + \" \" + user?.lastName}\n            </div>\n            <span className={styles.line}></span>\n            <div className={styles.topBox}>\n              {user?.nftPoints + user?.otherPoints}\n            </div>\n          </div>\n        ) : (\n          <div className={styles.rightNavItems}>\n            <Link className=\"links\" to=\"/login\">\n              <div className={styles.topBox}>Login</div>\n            </Link>\n            <span className={styles.line}></span>\n            <Link className=\"links\" to=\"/signup\">\n              <div className={styles.topBox}>Signup</div>\n            </Link>\n          </div>\n        )}\n      </div>\n      {/* { !hide && */}\n      <div className={styles.container}>\n        <h1 className={styles.topHeader}>TOP 10</h1>\n        <p className={styles.scoreHolderText}>SCORE HOLDERS</p>\n\n        <div className={styles.scoreHolders}>\n          {players.map((player) => {\n            return (\n              <div key={player} className={styles.player}>\n                <div className={styles.names}>\n                  <p className={styles.index}>1</p>\n                  <p className={styles.name}>George W. Bush</p>\n                </div>\n                <div className={styles.point}>POINTS</div>\n              </div>\n            );\n          })}\n        </div>\n\n        <div className={styles.container2}>\n          <h2 className={styles.heading2}>\n            The treasure map can only be won ny earning SHA POINTS\n          </h2>\n          <h2 className={styles.subHeading}>Ways to get sha points</h2>\n          <li className={styles.listItem}>\n            The members who purchases the NFT will get 10k Sha points.\n          </li>\n          <li className={styles.listItem}>\n            when someone buys merch they even get points addon.\n          </li>\n          <li className={styles.listItem}>\n            whenever you talk or do promo about Sha tokens on your social\n            networks, submit that link here and you'll get great number of sha\n            points.\n          </li>\n          <p className={styles.note}>\n            It can be any platform ( youtube, twitter, instagram, reels, memes,\n            twitch, discord ) Example ( make a youtube video explaining sha\n            tokens or part of it )\n          </p>\n        </div>\n        <div className={styles.formContainer}>\n          <p className={styles.note2}>\n            ( points will be assigned as per the quality of the content,\n            duration and insights. )\n          </p>\n          <input\n            className={styles.urlField}\n            type=\"text\"\n            placeholder=\"Submit your links here\"\n            value={url}\n            onChange={(e) => setUrl(e.target.value)}\n          />\n          <button className={styles.btn} onClick={handleClick}>\n            SUBMIT\n          </button>\n        </div>\n      </div>\n      {/* } */}\n    </>\n  );\n};\n\nexport default Points;\n"],"sourceRoot":""}